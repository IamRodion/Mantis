{% extends "recepcion/base.html" %}
{% block content %}

{% include 'mensajes.html' %}

<div class="container my-3">
    <h1>{{ datos['titulo'] }}</h1>

    <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-5">
            <h3>Datos del Pedido</h3>

            <table class="table table-striped border-info table-bordered align-middle">
                <thead>
                    <tr class="table-info text-center">
                        <th colspan="2" scope="col">Datos Generales</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">Número</th>
                        <td>{{ datos['pedido'][0] }}</td>
                    </tr>
                    <tr>
                        <th scope="row">Cliente</th>
                        <td>{{ datos['pedido'][1] }}</td>
                    </tr>
                    <tr>
                        <th scope="row">Fecha</th>
                        <td>{{ datos['pedido'][2] }}</td>
                    </tr>
                    <tr>
                        <th scope="row">Total</th>
                        <td>{{ datos['pedido'][3] }}</td>
                    </tr>
                    <tr>
                        <th scope="row">Estado</th>
                        {% if datos['pedido'][4] == 'Pendiente': %}
                        <td><span class="badge rounded-pill bg-danger">{{ datos['pedido'][4] }}</span></td>
                        {% elif datos['pedido'][4] == 'En Producción': %}
                        <td><span class="badge rounded-pill bg-warning">{{ datos['pedido'][4] }}</span></td>
                        {% elif datos['pedido'][4] == 'Terminado': %}
                        <td><span class="badge rounded-pill bg-primary">{{ datos['pedido'][4] }}</span></td>
                        {% elif datos['pedido'][4] == 'Entregado': %}
                        <td><span class="badge rounded-pill bg-success">{{ datos['pedido'][4] }}</span></td>
                        {% else: %}
                        <td><span class="badge rounded-pill bg-dark">{{ datos['pedido'][4] }}</span></td>
                        {% endif %}
                    </tr>
                    <tr>
                        <th scope="row">Comentarios</th>
                        <td>{{ datos['pedido'][5] }}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="col-sm-12 col-md-12 col-lg-7">
            <h3>Ordenes del Pedido</h3>
            <div class="table-responsive">
                <table class="table table-striped border border-info align-middle">
                    <thead class="table-info text-center">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Producto</th>
                            <th scope="col">Cantidad</th>
                            <th scope="col">Precio</th>
                            <th scope="col">Estado</th>
                            <th scope="col">Prioridad</th>
                            <th scope="col">Patrón</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for orden in datos['ordenes'] %}
                        <tr>
                            <td>{{ orden[0] }}</td>
                            <td class="text-center">{{ orden[1] }}</td>
                            <td class="text-center">{{ orden[2] }}</td>
                            <td class="text-end">{{ orden[3] }}</td>
                            
                            {% if orden[4] == 'Pendiente': %}
                            <td class="text-center"><span class="badge rounded-pill bg-danger">{{ orden[4] }}</span></td>
                            {% elif orden[4] == 'En Producción': %}
                            <td class="text-center"><span class="badge rounded-pill bg-warning">{{ orden[4] }}</span></td>
                            {% elif orden[4] == 'Terminado': %}
                            <td class="text-center"><span class="badge rounded-pill bg-primary">{{ orden[4] }}</span></td>
                            {% elif orden[4] == 'Entregado': %}
                            <td class="text-center"><span class="badge rounded-pill bg-success">{{ orden[4] }}</span></td>
                            {% else: %}
                            <td class="text-center"><span class="badge rounded-pill bg-dark">{{ orden[4] }}</span></td>
                            {% endif %}                            

                            {% if orden[5] == 'Alta': %}
                            <td class="text-center"><span class="badge rounded-pill bg-danger">{{ orden[5] }}</span></td>
                            {% elif orden[5] == 'Media': %}
                            <td class="text-center"><span class="badge rounded-pill bg-warning">{{ orden[5] }}</span></td>
                            {% elif orden[5] == 'Baja': %}
                            <td class="text-center"><span class="badge rounded-pill bg-success">{{ orden[5] }}</span></td>
                            {% else: %}
                            <td class="text-center"><span class="badge rounded-pill bg-dark">{{ orden[5] }}</span></td>
                            {% endif %}
            
                            <td class="text-center">{{ orden[6] }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

{% endblock %}